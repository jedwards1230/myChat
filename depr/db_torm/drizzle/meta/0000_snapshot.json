{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "6",
  "dialect": "postgresql",
  "tables": {
    "public.migrations": {
      "name": "migrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.User": {
      "name": "User",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "apiKey": {
          "name": "apiKey",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'New User'"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "profilePicture": {
          "name": "profilePicture",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "defaultAgentId": {
          "name": "defaultAgentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_020002df4ba03af085a7b4c871f": {
          "name": "FK_020002df4ba03af085a7b4c871f",
          "tableFrom": "User",
          "tableTo": "Agent",
          "schemaTo": "public",
          "columnsFrom": [
            "defaultAgentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "UQ_4a257d2c9837248d70640b3e36e": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "UQ_4a257d2c9837248d70640b3e36e"
        }
      }
    },
    "public.AgentTool": {
      "name": "AgentTool",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "toolName": {
          "name": "toolName",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ownerId": {
          "name": "ownerId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_594c1ce0cab05bc1a0d47387568": {
          "name": "FK_594c1ce0cab05bc1a0d47387568",
          "tableFrom": "AgentTool",
          "tableTo": "User",
          "schemaTo": "public",
          "columnsFrom": [
            "ownerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.Agent": {
      "name": "Agent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'myChat Agent'"
        },
        "model": {
          "name": "model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"api\":\"openai\",\"name\":\"gpt-4o\",\"params\":{\"N\":1,\"topP\":1,\"maxTokens\":128000,\"temperature\":0.7,\"presencePenalty\":0,\"frequencyPenalty\":0},\"serviceName\":\"OpenAIService\"}'::jsonb"
        },
        "toolsEnabled": {
          "name": "toolsEnabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "systemMessage": {
          "name": "systemMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'You are a personal assistant.'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ownerId": {
          "name": "ownerId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_413252bb492a4a95f0fe1756d3e": {
          "name": "FK_413252bb492a4a95f0fe1756d3e",
          "tableFrom": "Agent",
          "tableTo": "User",
          "schemaTo": "public",
          "columnsFrom": [
            "ownerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.UserSession": {
      "name": "UserSession",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current": {
          "name": "current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_7353eaf92987aeaf38c2590e943": {
          "name": "FK_7353eaf92987aeaf38c2590e943",
          "tableFrom": "UserSession",
          "tableTo": "User",
          "schemaTo": "public",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.Thread": {
      "name": "Thread",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "created": {
          "name": "created",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastModified": {
          "name": "lastModified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "activeMessageId": {
          "name": "activeMessageId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agentId": {
          "name": "agentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_e890a2d3645547f7bf2e204d63b": {
          "name": "FK_e890a2d3645547f7bf2e204d63b",
          "tableFrom": "Thread",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "activeMessageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_517b1981e4fd8709586865fb1bf": {
          "name": "FK_517b1981e4fd8709586865fb1bf",
          "tableFrom": "Thread",
          "tableTo": "Agent",
          "schemaTo": "public",
          "columnsFrom": [
            "agentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_87d1c427aecddf8cdb1ef65904e": {
          "name": "FK_87d1c427aecddf8cdb1ef65904e",
          "tableFrom": "Thread",
          "tableTo": "User",
          "schemaTo": "public",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "REL_e890a2d3645547f7bf2e204d63": {
          "columns": [
            "activeMessageId"
          ],
          "nullsNotDistinct": false,
          "name": "REL_e890a2d3645547f7bf2e204d63"
        }
      }
    },
    "public.document": {
      "name": "document",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "decoded": {
          "name": "decoded",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "tokenCount": {
          "name": "tokenCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "threadId": {
          "name": "threadId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "messageId": {
          "name": "messageId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_f68c231246d738ee2aea9d573be": {
          "name": "FK_f68c231246d738ee2aea9d573be",
          "tableFrom": "document",
          "tableTo": "Thread",
          "schemaTo": "public",
          "columnsFrom": [
            "threadId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_7424ddcbdf1e9b067669eb0d3fd": {
          "name": "FK_7424ddcbdf1e9b067669eb0d3fd",
          "tableFrom": "document",
          "tableTo": "User",
          "schemaTo": "public",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_932fb6efa239cce299f5f06577e": {
          "name": "FK_932fb6efa239cce299f5f06577e",
          "tableFrom": "document",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "messageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.Message": {
      "name": "Message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "Message_role_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tokenCount": {
          "name": "tokenCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "threadId": {
          "name": "threadId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "toolCallIdId": {
          "name": "toolCallIdId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parentId": {
          "name": "parentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_57b45d0685ae72c74150840e20c": {
          "name": "FK_57b45d0685ae72c74150840e20c",
          "tableFrom": "Message",
          "tableTo": "Thread",
          "schemaTo": "public",
          "columnsFrom": [
            "threadId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "FK_8b38a933c77f4398908d09febea": {
          "name": "FK_8b38a933c77f4398908d09febea",
          "tableFrom": "Message",
          "tableTo": "ToolCall",
          "schemaTo": "public",
          "columnsFrom": [
            "toolCallIdId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_46dd2ddc370017214fef302ca8f": {
          "name": "FK_46dd2ddc370017214fef302ca8f",
          "tableFrom": "Message",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "parentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "REL_8b38a933c77f4398908d09febe": {
          "columns": [
            "toolCallIdId"
          ],
          "nullsNotDistinct": false,
          "name": "REL_8b38a933c77f4398908d09febe"
        }
      }
    },
    "public.MessageFile": {
      "name": "MessageFile",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lastModified": {
          "name": "lastModified",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "uploadDate": {
          "name": "uploadDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "mimetype": {
          "name": "mimetype",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokenCount": {
          "name": "tokenCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extension": {
          "name": "extension",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parsedText": {
          "name": "parsedText",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fileDataId": {
          "name": "fileDataId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "messageId": {
          "name": "messageId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_251e73e4405200edd05f962ef03": {
          "name": "FK_251e73e4405200edd05f962ef03",
          "tableFrom": "MessageFile",
          "tableTo": "FileData",
          "schemaTo": "public",
          "columnsFrom": [
            "fileDataId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_0172936f398a69bcd650d2e68e7": {
          "name": "FK_0172936f398a69bcd650d2e68e7",
          "tableFrom": "MessageFile",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "messageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "REL_251e73e4405200edd05f962ef0": {
          "columns": [
            "fileDataId"
          ],
          "nullsNotDistinct": false,
          "name": "REL_251e73e4405200edd05f962ef0"
        }
      }
    },
    "public.FileData": {
      "name": "FileData",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "blob": {
          "name": "blob",
          "type": "bytea",
          "primaryKey": false,
          "notNull": true
        },
        "messageFileId": {
          "name": "messageFileId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_bb4c5813ed4c9713c3068289a75": {
          "name": "FK_bb4c5813ed4c9713c3068289a75",
          "tableFrom": "FileData",
          "tableTo": "MessageFile",
          "schemaTo": "public",
          "columnsFrom": [
            "messageFileId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "REL_bb4c5813ed4c9713c3068289a7": {
          "columns": [
            "messageFileId"
          ],
          "nullsNotDistinct": false,
          "name": "REL_bb4c5813ed4c9713c3068289a7"
        }
      }
    },
    "public.ToolCall": {
      "name": "ToolCall",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "function": {
          "name": "function",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "ToolCall_type_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'function'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "assistantMessageId": {
          "name": "assistantMessageId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_823d14e1c12461c7cef94d112c9": {
          "name": "FK_823d14e1c12461c7cef94d112c9",
          "tableFrom": "ToolCall",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "assistantMessageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.AgentRun": {
      "name": "AgentRun",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "model": {
          "name": "model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stream": {
          "name": "stream",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "threadId": {
          "name": "threadId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agentId": {
          "name": "agentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "filesId": {
          "name": "filesId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "FK_35612191ef308b88a9f37564643": {
          "name": "FK_35612191ef308b88a9f37564643",
          "tableFrom": "AgentRun",
          "tableTo": "Thread",
          "schemaTo": "public",
          "columnsFrom": [
            "threadId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "FK_a2f19faa0d7faf9ca88ca96e296": {
          "name": "FK_a2f19faa0d7faf9ca88ca96e296",
          "tableFrom": "AgentRun",
          "tableTo": "Agent",
          "schemaTo": "public",
          "columnsFrom": [
            "agentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "FK_10e4a76b9290991647e732abf1b": {
          "name": "FK_10e4a76b9290991647e732abf1b",
          "tableFrom": "AgentRun",
          "tableTo": "document",
          "schemaTo": "public",
          "columnsFrom": [
            "filesId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.embed_item": {
      "name": "embed_item",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.agent_tools_agent_tool": {
      "name": "agent_tools_agent_tool",
      "schema": "",
      "columns": {
        "agentId": {
          "name": "agentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agentToolId": {
          "name": "agentToolId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_adabee28ab05d5e8eb77010915": {
          "name": "IDX_adabee28ab05d5e8eb77010915",
          "columns": [
            "agentId"
          ],
          "isUnique": false
        },
        "IDX_7faea4e95f26d2f121c9624389": {
          "name": "IDX_7faea4e95f26d2f121c9624389",
          "columns": [
            "agentToolId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "FK_adabee28ab05d5e8eb770109156": {
          "name": "FK_adabee28ab05d5e8eb770109156",
          "tableFrom": "agent_tools_agent_tool",
          "tableTo": "Agent",
          "schemaTo": "public",
          "columnsFrom": [
            "agentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "FK_7faea4e95f26d2f121c96243899": {
          "name": "FK_7faea4e95f26d2f121c96243899",
          "tableFrom": "agent_tools_agent_tool",
          "tableTo": "AgentTool",
          "schemaTo": "public",
          "columnsFrom": [
            "agentToolId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "PK_a3f4e7c952796e91f6c6509146b": {
          "name": "PK_a3f4e7c952796e91f6c6509146b",
          "columns": [
            "agentId",
            "agentToolId"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "public.Message_closure": {
      "name": "Message_closure",
      "schema": "",
      "columns": {
        "id_ancestor": {
          "name": "id_ancestor",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "id_descendant": {
          "name": "id_descendant",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_941ea848f09d43306b75ea9791": {
          "name": "IDX_941ea848f09d43306b75ea9791",
          "columns": [
            "id_ancestor"
          ],
          "isUnique": false
        },
        "IDX_090362f69add0ffff1dcc98539": {
          "name": "IDX_090362f69add0ffff1dcc98539",
          "columns": [
            "id_descendant"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "FK_941ea848f09d43306b75ea97911": {
          "name": "FK_941ea848f09d43306b75ea97911",
          "tableFrom": "Message_closure",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "id_ancestor"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "FK_090362f69add0ffff1dcc98539b": {
          "name": "FK_090362f69add0ffff1dcc98539b",
          "tableFrom": "Message_closure",
          "tableTo": "Message",
          "schemaTo": "public",
          "columnsFrom": [
            "id_descendant"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "PK_883bac06f134fb892a0a01d72c0": {
          "name": "PK_883bac06f134fb892a0a01d72c0",
          "columns": [
            "id_ancestor",
            "id_descendant"
          ]
        }
      },
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "public.Message_role_enum": {
      "name": "Message_role_enum",
      "values": [
        "system",
        "user",
        "assistant",
        "tool"
      ],
      "schema": "public"
    },
    "public.ToolCall_type_enum": {
      "name": "ToolCall_type_enum",
      "values": [
        "function"
      ],
      "schema": "public"
    }
  },
  "schemas": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {}
  }
}